<!doctype html>
<html lang="en" class="h-100">


{{element->header_app.html}}

<style>
	main {
		display: flex;
		flex-direction: column;
		height: calc(100% - 56px);
	}
	#partnerDetailsContainer {
		display: flex;
		flex-direction: row;
		width: 100%;
		justify-content: center;
	}
	#partnerDetailsContainer .title {
		display: flex;
		align-items: center;
		line-height: 20px;
		width: calc(100% - 70px);
	}
	#partnerDetailsContainer .spotyride-icon {
		display: flex;
		height: 70px;
		width: 70px;
	}
	#partnerDetailsContainer.no-icon .title {
		display: flex;
		align-items: center;
		justify-content: center;
		line-height: 40px;
		width: calc(100%);
	}
	#partnerDetailsContainer.no-icon .spotyride-icon {
		display: none;
	}
	#partnerDetailsContainer .spotyride-icon.hidden {
		display: none;
	}

	.bottom-container.hidden {
		display: none;
	}
	.bottom-container {
		display: flex;
		flex-direction: column;
		margin: auto;
		margin-bottom: 20px;
		justify-content: center;
	}
	.bottom-container #spotiryde-resa {
		padding: 15px 30px;
	}
	.bottom-container .resa-label {
		display: flex;
		justify-content: space-between;
		align-items: center;
		font-size: 20px;
		color: rgb(40, 100, 219);
	}
	.container.py-3 {
		position: absolute;
	}
</style>

<body class="body-scroll d-flex flex-column h-100 menu-overlay">
    <!-- screen loader -->
    {{element->loader.html}}

    <!-- Begin page content -->
    <main class="flex-shrink-0">
        <!-- Fixed navbar -->
        {{element->navheader.html}}
        <nav class="navbar navbar-light fixed-top" style="margin-top:30px;">
            <a id="return_link" class="navbar-brand" href="/index"><i style="font-size:30px;" class="bi bi-arrow-left-circle-fill"></i></a>
        </nav>
        <div class="product-image-top" style="background-color:white;">
            <img id="img" class="background" style="height:auto;width:100%;" src="" alt="">
        </div>
        <!-- page content start -->
        <div class="container top-30" id="container">
            <div class="card">
                <div class="card-body">
									<div class="top-container no-icon" id="partnerDetailsContainer">
										<div class="title" id="name"></div>
										<div class="spotyride-icon">
											<img src="https://res.cloudinary.com/nauticspot/image/upload/v1653924269/Nauticspot-Next/assets/partners_spotyride_full_ico_ny2ndv.png" alt="spotyride logo" />
										</div>
									</div>
                    <div class="row">
                        <div class="col" id="phone">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col" id="email">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col" id="website">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col" id="gps_address">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body border-top border-color small text-secondary" id="description" style="text-align: justify;">
            </div>
        </div>
				<div class="bottom-container hidden">
					<div class="resa-label">Partenariat avec <img src="https://res.cloudinary.com/nauticspot/image/upload/v1653924269/Nauticspot-Next/assets/partners_spotyride_full_ico_ny2ndv.png" alt="spotyride logo" /></div>
					<button class="btn btn-lg btn-primary" id="spotiryde-resa">Réserver une activité</button>
				</div>

        <script>
            const urlParams = new URLSearchParams(window.location.search);
            fetch("/api/getpartner/" + urlParams.get("id")).then(response => response.json()).then(_data => {
                var harbour = _data.data;
                if (harbour.address) {
                    var sBrowser, sUsrAg = navigator.userAgent;
                    if (sUsrAg.indexOf("Safari") > -1) {
                        sBrowser = "Apple Safari";
                        document.getElementById("gps_address").insertAdjacentHTML('beforeend', '<a href="http://maps.apple.com/?q=' + harbour.address + '" class="small text-secondary"><i class="bi bi-geo-alt"></i>' + harbour.address + '</a>')
                    } else {
                        document.getElementById("gps_address").insertAdjacentHTML('beforeend', '<a href="geo:0,0?q=' + harbour.address + '" class="small text-secondary"><i class="bi bi-geo-alt"></i>' + harbour.address + '</a>')
                    }
                }

                if (harbour.category == "harbourlife")
                    harbour.category = "harborlife";
                else if (harbour.category == "experience")
                    harbour.category = "experiences";

                document.getElementById("return_link").href = "/" + harbour.category + "?select=" + harbour.subcategory;
                document.getElementById("name").insertAdjacentHTML('beforeend', harbour.name);
                if (harbour.phone)
                    document.getElementById("phone").insertAdjacentHTML('beforeend', '<a class="small text-secondary" href="tel:' + harbour.prefixed_phone + '">' + harbour.phone + '</a>');
                if (harbour.email)
                    document.getElementById("email").insertAdjacentHTML('beforeend', '<a class="small text-secondary" href="mailto:' + harbour.email + '">' + harbour.email + '</a>');
                if (harbour.website)
                    document.getElementById("website").insertAdjacentHTML('beforeend', '<a class="small text-secondary" href="' + harbour.website + '">' + harbour.website + '</a>');

                if (harbour.img) {
                    document.getElementById('img').src = harbour.img;
                } else {
                    switch (harbour.subcategory) {
                        case "nautic":
                            document.getElementById('img').src = "/library/Activitenautiques.jpg";
                            break;
                        case "terrestres":
                            document.getElementById('img').src = "/library/Activiteterrestres.jpg";
                            break;
                        case "association":
                            document.getElementById('img').src = "/library/gererassociation.png";
                            break;
                        case "equipbourse":
                            document.getElementById('img').src = "/library/Bourse-aux-equipiers.jpg";
                            break;
                        case "experienceautre":
                            document.getElementById('img').src = "/library/autres-500.png";
                            break;
                        case "sos":
                            document.getElementById('img').src = "/library/bouton-sos-64.png";
                            break;
                        case "maintenance":
                            document.getElementById('img').src = "/library/bouton-maintenance-64.png";
                            break;
                        case "accastillage":
                            document.getElementById('img').src = "/library/bouton-tool-64.png";
                            break;
                        case "sante":
                            document.getElementById('img').src = "/library/bouton-sante-64.png";
                            break;
                        case "annonce":
                            document.getElementById('img').src = "/library/bouton-annonce-64.png";
                            break;
                        case "laverie":
                            document.getElementById('img').src = "/library/laverie-64.png";
                            break;
                        case "transport":
                            document.getElementById('img').src = "/library/transports-64.png";
                            break;
                        case "alimentation":
                            document.getElementById('img').src = "/library/bouton-alimentation-64.png";
                            break;
                        case "boutique":
                            document.getElementById('img').src = "/library/bouton-boutiques-64.png";
                            break;
                        case "vieportautre":
                            document.getElementById('img').src = "/library/autres-64.png";
                            break;
                        case "restaurant":
                            document.getElementById('img').src = "/library/Restaurant.jpg";
                            break;
                        case "bar":
                            document.getElementById('img').src = "/library/Bars.jpg";
                            break;
                        case "culture":
                            document.getElementById('img').src = "/library/Culture.jpg";
                            break;
                        case "divertissement":
                            document.getElementById('img').src = "/library/bien-etre.jpg";
                            break;
                        case "detente":
                            document.getElementById('img').src = "/library/divertissement.png";
                            break;
                        case "decouverteautre":
                            document.getElementById('img').src = "/library/autres-500.png";
                            break;
                        default:
                            document.getElementById('img').src = "/library/autres-500.png";
                            break;
                    }
                }

                if (harbour.description)
								document.getElementById("description").insertAdjacentHTML('beforeend', harbour.description);
                if (harbour.spotyrideLink) {
									document.querySelector('.bottom-container')?.classList.remove('hidden');
									const spotirydeBtn = document.querySelector('#spotiryde-resa');
									spotirydeBtn.addEventListener('click', () => { open(harbour.spotyrideLink) });
									document.querySelector('#partnerDetailsContainer')?.classList.remove('no-icon');
								}

                document.getElementById("container").innerHTML = document.getElementById("container").innerHTML.replace(/undefined/g, " ");

            }).catch((error) => {
                console.log(error);
            });
        </script>

        <div class="container py-3">
            {{element->navbar.html}}
        </div>

    </main>

    <!-- Required jquery and libraries -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- cookie js -->
    <script src="js/jquery.cookie.js"></script>

    <!-- Swiper slider  js-->
    <!-- <script src="vendor/swiper/js/swiper.min.js"></script> -->

    <!-- Masonry js -->
    <script src="vendor/masonry/masonry.pkgd.min.js"></script>

    <!-- nouislider js -->
    <script src="vendor/nouislider/nouislider.min.js"></script>

    <!-- Customized jquery file  -->
    <script src="js/main.js"></script>
    <script src="js/color-scheme-demo.js"></script>

    <!-- page level custom script -->
    <script>
        "use strict"
        // $(window).on('load', function () {});
    </script>
    {{element->footer_app.html}}
</body>
<!-- Mirrored from maxartkiller.com/website/Nauticspot/property-details.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Aug 2020 16:50:04 GMT -->
</html>
