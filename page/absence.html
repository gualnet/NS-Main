<!DOCTYPE html>
<html lang="fr">
{{element->header_app.html}}

<body>
  <div class="page-container">

    <!-- <nav class="navbar navbar-light fixed-top mt-3">
    <a id="return_link" class="navbar-brand" href="/index"><i style="font-size:30px;"
        class="bi bi-arrow-left-circle-fill"></i></a>
  </nav> -->

    <!-- screen loader -->


    <div id="top-container">
      <div class="page-title" id="title">Mes absences</div>
    </div>


    <div id="ongoing-container">
      <div class="sub-title">Absences en cours</div>
      <div class="items-container">
        <label class="text-low-visibility" id="text">Aucune absence en cours</label>
      </div>
    </div>

    <div id="past-container">
      <div class="sub-title">Absences passées</div>
      <div class="items-container">
        <div class="absence-item">
          <div class="date-info" id="start-info">
            <div class="start-label">Date de départ</div>
            <div class="date-label">xx/xx/xxxx</div>
            <!-- <input id="" name="date_start" type="date" class="form-control floating-input" required> -->
          </div>
          <div class="date-info" id="end-info">
            <div class="end-label">Date de retour</div>
            <div class="date-label">xx/xx/xxxx</div>
            <!-- <input id="" name="date_end" type="date" class="form-control floating-input" required> -->
          </div>
        </div>
      </div>
    </div>

    <div id="bottom-container">
      <div id="new-absence-btn" onclick="openNewAbsenceModal()">Nouvelle Absence</div>
      <button type="button" data-bs-toggle="modal" data-bs-target="#myModal">Launch modal</button>
    </div>
  </div>



  <!-- MODAL -->
  <div class="myModal" id="createAbsenceModal">
    <div class="modal-card">
      <div class="modal-card-header">
        Modifiez votre absence
      </div>
      <div class="modal-card-content">
        <div class="date-info">
          <label>Date de départ</label>
          <input id="" name="date_start" type="date" class="form-control floating-input modal-date-input" required>
        </div>
        <div class="date-info">
          <label>Date de retour</label>
          <input id="" name="date_start" type="date" class="form-control floating-input modal-date-input" required>
        </div>
      </div>
      <div class="modal-card-footer">
        <div class="footer-btn" id="modal-cancel-btn">Annuler</div>
        <div class="footer-btn" id="modal-validate-btn">Valider</div>
      </div>
    </div>

  </div>


</body>

<style>
  body {
    display: flex;
    font-family: 'Poppins';
  }

  .page-container {
    height: 100%;
    width: 100%;
    display: grid;
    height: 100vh;
    width: 100vw;
    grid-template-rows: 120px 150px auto 50px 50px;
  }

  #top-container {
    grid-row: 1;
    display: flex;
    width: 100%;
    justify-content: center;
    margin: 40px 0px;
  }

  .page-title {
    font-family: 'Poppins-SemiBold';
    font-size: 20px;
    align-self: center;
  }

  #ongoing-container {
    grid-row: 2;
    display: flex;
    flex-direction: column;
    padding-left: 30px;
    min-height: 100px;
  }

  .sub-title {
    font-size: 20px;
    margin-bottom: 20px;
  }

  .text-low-visibility {
    color: rgb(131, 131, 131);
  }

  #past-container {
    grid-row: 3;
    /* border: 1px solid red; */
    display: flex;
    flex-direction: column;
    padding-left: 30px;
    padding-right: 30px;

  }

  /* ABSENCE ITEM */

  .absence-item {
    display: flex;
    border-radius: 13px;
    height: 100px;
    padding: 20px 30px;
    justify-content: space-between;
    box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, .16);
    color: rgb(131, 131, 131);
    font-size: 15px;
  }

  .date-info {
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    width: 45%;
  }

  .date-label {
    border: 0px;
    border-bottom: 1px solid rgb(131, 131, 131);
  }

  /* BOTTOM CONTAINER */
  #bottom-container {
    grid-row: 4;
    display: flex;
    padding: 0px 30px;
    justify-content: flex-end;
  }

  #new-absence-btn {
    border-radius: 50px;
    background-color: rgb(3, 60, 138);
    height: 50px;
    width: 210px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: rgb(255, 255, 255);
    font-size: 15px;
  }

  #new-absence-btn::before {
    content: '+';
    font-size: 30px;
    color: white;
    transform: translate(-10px);
  }


  /* MODAL */
  .myModal#createAbsenceModal {
    display: flex;
    height: 100%;
    width: 100%;
    z-index: 100;
    position: absolute;
    background-color: rgba(131, 131, 131, .5);
    justify-content: center;
    align-items: center;


    visibility: hidden;
    opacity: 0;
    transition: visibility 0s, opacity 0.5s linear;
  }

  .modal-card {
    background-color: white;
    border-radius: 13px;
    box-shadow: 0 3px 6px 0 rgba(0, 0, 0, .16);
    margin: 0px 30px;
    padding-top: 24px;
    width: 100%;
  }

  .modal-card-header {
    align-items: center;
    display: flex;
    font-family: 'Avenir-Medium', 'Poppins-SemiBold';
    font-size: 21px;
    justify-content: center;
    margin-bottom: 20px;
    padding: 0px 34px;
  }

  .modal-card-content {
    color: rgb(98, 88, 88);
    display: flex;
    font-family: 'Avenir-Medium', 'Poppins-SemiBold';
    font-size: 15px;
    justify-content: space-between;
    margin-bottom: 30px;
    padding: 0px 34px;
  }

  .modal-card-footer {
    border: 0px;
    border-top: 1px solid rgba(178, 178, 178, .18);
    display: flex;
    height: 44px;

  }

  .modal-card .footer-btn {
    align-items: center;
    color: rgb(50, 129, 243);
    display: flex;
    font-family: 'Avenir-Black';
    font-size: 15px;
    height: 100%;
    justify-content: center;
    width: 50%;
  }

  .modal-card-footer :nth-child(1) {
    border-right: 1px solid rgba(178, 178, 178, .18);
  }

  .modal-card .date-info label {
    margin: 0px;
  }

  input[type=date].form-control.modal-date-input {
    border: 0px;
    border-radius: 0px;
    width: 100%;
    border-bottom: 1px solid rgb(131, 131, 131);
    background-color: transparent;
    margin-left: 0px;
    padding-left: 0px;
    padding-bottom: 0px;
    color: rgb(131, 131, 131);
  }
</style>

<script>

  const closeNewAbsenceModal = (ev) => {
    console.log('closeNewAbsenceModal', ev)
    // const modalEl = document.getElementById('createAbsenceModal');
    // modalEl.style.visibility = 'hidden';
    // modalEl.style.opacity = 0;
  }


  const createAbsenceModal = document.getElementById('createAbsenceModal');


  createAbsenceModal.addEventListener('onclick', closeNewAbsenceModal)

  const openNewAbsenceModal = (ev) => {
    console.log('createNewAbsence');

    const modalEl = document.getElementById('createAbsenceModal');
    modalEl.style.visibility = 'visible';
    modalEl.style.opacity = 1;
  }

</script>

</html>